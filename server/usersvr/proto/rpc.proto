syntax = "proto3";
import "user.proto";
package rpc;

message CreateUserRequest { user.UserInfo userinfo = 1; }

message CreateUserResult { uint64 uid = 1; }

message ValidUserRequest {
  string username = 1;
  string email = 2;
  string password = 3;
}

message ValidUserResult { bool ok = 1; }

message GetUserRequest { uint64 uid = 1; }

message GetUserResult { user.UserInfo userinfo = 1; }

message UpdateUserRequest { user.UserInfo userinfo = 1; }

message UpdateUserResult { bool ok = 1; }

message HasUserRequest {
  string username = 1;
  string email = 2;
}

message HasUserResult { bool ok = 1; }

service UserSvr {
  rpc create_user(CreateUserRequest) returns (CreateUserResult);

  rpc valid_user(ValidUserRequest) returns (ValidUserResult);

  rpc get_user(GetUserRequest) returns (GetUserResult);

  rpc update_user(UpdateUserRequest) returns (UpdateUserResult);

  rpc has_user(HasUserRequest) returns (HasUserResult);
}
